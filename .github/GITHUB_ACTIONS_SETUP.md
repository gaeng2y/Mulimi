# ğŸš€ GitHub Actions UseCase í…ŒìŠ¤íŠ¸ ì„¤ì • ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”
ì´ ë¬¸ì„œëŠ” Mulimi í”„ë¡œì íŠ¸ì—ì„œ PRì´ ìƒì„±ë  ë•Œ ìë™ìœ¼ë¡œ UseCase ë ˆì´ì–´ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ëŒ“ê¸€ë¡œ ë‚¨ê¸°ëŠ” GitHub Actions ì„¤ì • ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ—‚ï¸ íŒŒì¼ êµ¬ì¡°
```
.github/
â”œâ”€â”€ workflows/
â”‚   â”œâ”€â”€ pr-usecase-tests.yml          # ê¸°ë³¸ ì›Œí¬í”Œë¡œìš°
â”‚   â””â”€â”€ pr-usecase-tests-enhanced.yml # í–¥ìƒëœ ì›Œí¬í”Œë¡œìš° (ì¶”ì²œ)
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ parse-test-results.py         # í…ŒìŠ¤íŠ¸ ê²°ê³¼ íŒŒì‹± ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ GITHUB_ACTIONS_SETUP.md          # ì´ íŒŒì¼
```

## âš™ï¸ í•„ìˆ˜ ì„¤ì •

### 1. Repository ê¶Œí•œ ì„¤ì •
GitHub ì €ì¥ì†Œ ì„¤ì •ì—ì„œ ë‹¤ìŒ ê¶Œí•œì„ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤:

1. **Settings** â†’ **Actions** â†’ **General**
2. **Workflow permissions**ì—ì„œ ë‹¤ìŒ ì„ íƒ:
   - âœ… `Read and write permissions`
   - âœ… `Allow GitHub Actions to create and approve pull requests`

### 2. Branch Protection Rules (ì„ íƒì‚¬í•­)
`main` ë˜ëŠ” `develop` ë¸Œëœì¹˜ ë³´í˜¸ë¥¼ ìœ„í•´:

1. **Settings** â†’ **Branches**
2. **Add rule** í´ë¦­
3. Branch name pattern: `main` (ë˜ëŠ” `develop`)
4. **Require status checks to pass before merging** ì²´í¬
5. **Require branches to be up to date before merging** ì²´í¬
6. Status checksì—ì„œ `ğŸ§ª Domain Layer Tests` ì„ íƒ

## ğŸ¯ ì›Œí¬í”Œë¡œìš° ì„ íƒ

### ê¸°ë³¸ ì›Œí¬í”Œë¡œìš° (`pr-usecase-tests.yml`)
- ê°„ë‹¨í•œ bash ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜
- ë¹ ë¥¸ ì‹¤í–‰
- ê¸°ë³¸ì ì¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼ í‘œì‹œ

### í–¥ìƒëœ ì›Œí¬í”Œë¡œìš° (`pr-usecase-tests-enhanced.yml`) - **ì¶”ì²œ**
- Python ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ ì •í™•í•œ ê²°ê³¼ íŒŒì‹±
- ìƒì„¸í•œ ì‹¤íŒ¨ ì •ë³´ ì œê³µ
- ì‹œê°ì  ì§„í–‰ë¥  í‘œì‹œ
- í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ì•„í‹°íŒ©íŠ¸ ìƒì„±

## ğŸ”§ ì‚¬ìš© ë°©ë²•

### 1. ì›Œí¬í”Œë¡œìš° í™œì„±í™”
ì„ íƒí•œ ì›Œí¬í”Œë¡œìš° íŒŒì¼ì„ ì €ì¥ì†Œì— ì»¤ë°‹í•˜ë©´ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤.

```bash
git add .github/
git commit -m "ğŸš€ Add UseCase tests GitHub Action"
git push origin main
```

### 2. PR ìƒì„± ì‹œ ìë™ ì‹¤í–‰
ë‹¤ìŒ ê²½ë¡œì˜ íŒŒì¼ì´ ë³€ê²½ëœ PRì—ì„œ ìë™ ì‹¤í–‰ë©ë‹ˆë‹¤:
- `Project/Domain/**` - Domain ë ˆì´ì–´ ì†ŒìŠ¤
- `Project/Data/**` - Data ë ˆì´ì–´ ì†ŒìŠ¤  
- `.github/workflows/**` - ì›Œí¬í”Œë¡œìš° íŒŒì¼
- `Tuist/**` - Tuist ì„¤ì • íŒŒì¼

### 3. í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸
PRì— ìë™ìœ¼ë¡œ ëŒ“ê¸€ì´ ë‹¬ë¦¬ë©° ë‹¤ìŒ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤:
- ğŸ“Š í…ŒìŠ¤íŠ¸ ìš”ì•½ (ì´ í…ŒìŠ¤íŠ¸ ìˆ˜, ì„±ê³µ/ì‹¤íŒ¨ ìˆ˜)
- ğŸ“ˆ ì„±ê³µë¥  ë° ì§„í–‰ë¥  ë°”
- ğŸ” ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ìƒì„¸ ì •ë³´
- â° ì‹¤í–‰ ì‹œê°„

## ğŸ¨ ëŒ“ê¸€ ì˜ˆì‹œ

### ì„±ê³µ ì‹œ
```markdown
## âœ… UseCase Layer Test Results

ğŸ“Š Test Summary:
- Total Tests: 15
- Passed: 15 âœ…
- Failed: 0 âŒ
- Success Rate: 100.0%

Progress: ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢

Status: All Tests Passed

---
ğŸ¤– Generated by GitHub Actions | ğŸ§ª Domain Layer Tests | â° 2025-01-XX XX:XX:XX
```

### ì‹¤íŒ¨ ì‹œ
```markdown
## âŒ UseCase Layer Test Results

ğŸ“Š Test Summary:
- Total Tests: 15
- Passed: 12 âœ…
- Failed: 3 âŒ
- Success Rate: 80.0%

Progress: ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸ”´ğŸ”´

Status: Some Tests Failed

## ğŸ” Failed Tests Details

âŒ DrinkWaterUseCaseTests.testDrinkWaterFailure
```
Test failed due to mock repository error...
```

---
ğŸ¤– Generated by GitHub Actions | ğŸ§ª Domain Layer Tests | â° 2025-01-XX XX:XX:XX
```

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. "Permission denied" ì—ëŸ¬
**í•´ê²°ë°©ë²•**: Repository Settingsì—ì„œ Actions ê¶Œí•œì„ "Read and write permissions"ë¡œ ë³€ê²½

### 2. Tuist ì„¤ì¹˜ ì‹¤íŒ¨
**í•´ê²°ë°©ë²•**: `.mise.toml` íŒŒì¼ì—ì„œ Tuist ë²„ì „ í™•ì¸ ë° ì—…ë°ì´íŠ¸

### 3. ì‹œë®¬ë ˆì´í„° ê´€ë ¨ ì—ëŸ¬
**í•´ê²°ë°©ë²•**: ì›Œí¬í”Œë¡œìš°ì—ì„œ destinationì„ ë‹¤ë¥¸ iOS ë²„ì „ìœ¼ë¡œ ë³€ê²½
```yaml
-destination 'platform=iOS Simulator,name=iPhone 15,OS=17.0'
```

### 4. í…ŒìŠ¤íŠ¸ ê²°ê³¼ íŒŒì‹± ì‹¤íŒ¨
**í•´ê²°ë°©ë²•**: `parse-test-results.py` ìŠ¤í¬ë¦½íŠ¸ì˜ ì •ê·œì‹ íŒ¨í„´ í™•ì¸

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### 1. ìºì‹± í™œìš©
```yaml
- name: Cache Tuist Dependencies
  uses: actions/cache@v4
  with:
    path: |
      ~/.tuist/Cache
      Tuist/Dependencies
    key: ${{ runner.os }}-tuist-${{ hashFiles('Tuist/Package.swift') }}
```

### 2. ë³‘ë ¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```yaml
-parallel-testing-enabled YES
-parallel-testing-worker-count 4
```

### 3. ì¡°ê±´ë¶€ ì‹¤í–‰
íŠ¹ì • íŒŒì¼ë§Œ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ì‹¤í–‰í•˜ë„ë¡ `paths` í•„í„° ì¡°ì •

## ğŸ¯ ê³ ê¸‰ ê¸°ëŠ¥

### 1. Slack ì•Œë¦¼ ì¶”ê°€
```yaml
- name: Notify Slack
  if: failure()
  uses: 8398a7/action-slack@v3
  with:
    status: failure
    webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

### 2. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
```yaml
-enableCodeCoverage YES
```

### 3. ë‹¤ì¤‘ iOS ë²„ì „ í…ŒìŠ¤íŠ¸
```yaml
strategy:
  matrix:
    ios-version: ['17.0', '17.2']
```

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:
1. GitHub Actions íƒ­ì—ì„œ ì‹¤í–‰ ë¡œê·¸ í™•ì¸
2. ì•„í‹°íŒ©íŠ¸ì—ì„œ ìƒì„¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë‹¤ìš´ë¡œë“œ
3. Issue ìƒì„± ì‹œ ê´€ë ¨ ë¡œê·¸ ì²¨ë¶€

---

ğŸš€ **Happy Testing with GitHub Actions!** ğŸ§ª